<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.36">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>R Intro Course</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="R Intro Course with bullet points_files/libs/clipboard/clipboard.min.js"></script>
<script src="R Intro Course with bullet points_files/libs/quarto-html/quarto.js"></script>
<script src="R Intro Course with bullet points_files/libs/quarto-html/popper.min.js"></script>
<script src="R Intro Course with bullet points_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="R Intro Course with bullet points_files/libs/quarto-html/anchor.min.js"></script>
<link href="R Intro Course with bullet points_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="R Intro Course with bullet points_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="R Intro Course with bullet points_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="R Intro Course with bullet points_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="R Intro Course with bullet points_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">R Intro Course</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="schedule" class="level1">
<h1>Schedule</h1>
<p><strong>Schedule</strong></p>
<p><em>10:00-10:45</em></p>
<ul>
<li><p>Introduction to&nbsp;R</p></li>
<li><p>Data manipulation</p></li>
<li><p>Useful R functions</p></li>
</ul>
<p><em>11:00-11:45</em></p>
<ul>
<li><p>Reading/writing&nbsp;of&nbsp;files</p></li>
<li><p>Defining own R functions</p></li>
<li><p>Conditions&nbsp;and loops</p></li>
</ul>
<p><strong>Lunch</strong></p>
<p><em>13:00-13:45</em></p>
<ul>
<li><p>EDA</p></li>
<li><p>t-test&nbsp;</p></li>
</ul>
<p><em>14:00-14:45</em></p>
<ul>
<li><p>Linear regression</p></li>
<li><p>Logistic regression</p></li>
<li><p>Q&amp;A&nbsp;</p></li>
</ul>
</section>
<section id="hour-1" class="level1">
<h1>Hour 1</h1>
<section id="aliaksandr-hubin-aliaksahhiof.no" class="level2">
<h2 class="anchored" data-anchor-id="aliaksandr-hubin-aliaksahhiof.no">Aliaksandr Hubin (aliaksah@hiof.no)</h2>
<p><strong>EDUCATION:</strong></p>
<ul>
<li>2018: PhD (Statistics), University of Oslo, Faculty of Mathematics and Natural Sciences, Norway</li>
</ul>
<p><strong>POSITIONS:</strong></p>
<ul>
<li><p>2022-...: Associate Professor (20%) in statistics, University of Oslo</p></li>
<li><p><strong>2022-...: Associate Professor (50%) in statistics, Ostfold University College</strong></p></li>
<li><p>2022-...: Associate Professor (50%) in statistics, Faculty of Chemistry, Biotechnology and Food Science, Norwegian University of Life Sciences</p></li>
<li><p>2021-...: Head (voluntary) of Oslo Section of the Norwegian Statistical Association</p></li>
</ul>
</section>
<section id="r-language" class="level2">
<h2 class="anchored" data-anchor-id="r-language">R language</h2>
<ul>
<li><p><strong>Introduction to R Course:</strong></p>
<ul>
<li><p>R is a powerful programming language for data analysis and statistical computing.</p></li>
<li><p>The course is designed for beginners with little or no experience in programming and stats.</p></li>
<li><p>Gain a basic understanding of R’s capabilities.</p></li>
<li><p><strong>Challenging</strong> and <strong>super - intensive</strong> course, but we must manage. <u><strong>Important to work with the given notebook at home after the workshop to get the maximum of it!</strong></u></p></li>
<li><p>Do not get confused if you can not solve the tasks, I will go through the solutions right away.</p></li>
<li><p><strong>Feel free to reuse any part of these materials in your research!</strong></p></li>
</ul></li>
<li><p><strong>Course Highlights:</strong></p>
<ul>
<li><p>Navigate the R interface.</p></li>
<li><p>Work with simple data types.</p></li>
<li><p>Manipulate data structures.</p></li>
<li><p>Visualize data.</p></li>
<li><p>Run simple statistical tests and models.</p></li>
<li><p>We do not go into details on statistics itself.</p></li>
</ul></li>
<li><p><strong>Course Outcomes:</strong></p>
<ul>
<li><p>Understand a foundation in R.</p></li>
<li><p>Explore R’s capabilities.</p></li>
<li><p>Apply R to real-world data analysis projects.</p></li>
<li><p>Hopefully become motivated to learn advanced R.</p></li>
</ul></li>
<li><p><strong>Let’s get started!</strong></p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Welcome to the course!"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Welcome to the course!"</code></pre>
</div>
</div>
</section>
<section id="task-1-1-minute" class="level2">
<h2 class="anchored" data-anchor-id="task-1-1-minute"><strong>Task 1 (1 minute)</strong></h2>
<p>Now try printing and running “Hello, world! I am so eager to learn R today!” in the code-cell below</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">#print Hello, world! I am so eager to learn R today!</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Hello, world! I am so eager to learn R today!"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Hello, world! I am so eager to learn R today!"</code></pre>
</div>
</div>
</section>
<section id="base-r" class="level2">
<h2 class="anchored" data-anchor-id="base-r">Base R</h2>
<ul>
<li><p><strong>Base R:</strong></p>
<ul>
<li><p>Core set of basic functions and packages included in R by default.</p></li>
<li><p>No additional installation or configuration required.</p></li>
</ul></li>
<li><p><strong>Functionality:</strong></p>
<ul>
<li><p>Data manipulation, statistical analysis, and graphical visualization.</p></li>
<li><p>Data import/export, cleaning, transformation, and descriptive statistics.</p></li>
<li><p>Hypothesis testing, regression analysis, time-series analysis, and more.</p></li>
</ul></li>
<li><p><strong>Graphical Tools:</strong></p>
<ul>
<li>Histograms, scatter plots, bar charts, box plots, and more.</li>
</ul></li>
<li><p><strong>Foundation:</strong></p>
<ul>
<li><p>Base R serves as the foundation for other R packages and extensions.</p></li>
<li><p>Essential for any R user’s toolkit.</p></li>
</ul>
<h2 id="common-variable-types-in-base-r" class="anchored">Common variable types in base R</h2>
<ul>
<li>In Base R, there are several common variable types used for data storage and manipulation. Understanding these variable types is essential for effective data analysis and programming in R.</li>
</ul>
<ol type="1">
<li><p>Numeric:</p>
<ul>
<li><p>Represents numerical values, both integers and decimals.</p></li>
<li><p>Commonly used for quantitative measurements and calculations.</p></li>
<li><p>Example: 10, 3.14, -5.2</p></li>
</ul></li>
<li><p>Character:</p>
<ul>
<li><p>Represents textual data, such as words, sentences, or strings.</p></li>
<li><p>Enclosed in quotation marks (” “) or single quotes (’ ’).</p></li>
<li><p>Example: “Hello”, ‘R programming’</p></li>
</ul></li>
<li><p>Logical:</p>
<ul>
<li><p>Represents Boolean values: TRUE or FALSE.</p></li>
<li><p>Used for logical comparisons and conditional operations.</p></li>
<li><p>Example: TRUE, FALSE</p></li>
</ul></li>
<li><p>Integer:</p>
<ul>
<li><p>Represents whole numbers without decimal points.</p></li>
<li><p>Used for precise calculations and indexing operations.</p></li>
<li><p>Example: 20, -7, 0</p></li>
</ul></li>
</ol>
<p>Understanding these variable types is crucial for proper data handling, analysis, and visualization in R. By utilizing the appropriate variable types, you can perform various operations and leverage R’s extensive functionality effectively.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define different data types</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>u <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="co"># Integer variables for integer valued information</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="cn">FALSE</span> <span class="co">#Logical variable for boolean data</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fl">5.3</span> <span class="co"># Numeric variable for decimal imformation</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="st">"Hello"</span> <span class="co"># String variable for textual information</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">5</span>) <span class="co"># c() function combines integer into a vector of integer variables </span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>, <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">3</span>) <span class="co"># A matrix of integer variables</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In this code, we define four different data types:</p>
<ul>
<li><strong><code>u</code></strong> is an integer variable with the value 5</li>
<li><strong><code>l</code></strong> is a logical variable with the value False</li>
<li><strong><code>x</code></strong> is a numeric variable with the value 5.3</li>
<li><strong><code>y</code></strong> is a character variable with the value “Hello”</li>
<li><strong><code>z</code></strong> is a numeric vector containing the values 1, 3, 5, 7, and 9</li>
<li><strong><code>w</code></strong> is a matrix with three rows and three columns, containing the values 1 through 9</li>
</ul>
<p>We then print each of these data types using the <strong><code>print()</code></strong> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the data types</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Hello"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(z)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 3 2 1 4 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(z[<span class="dv">3</span>]) <span class="co"># Get the third element of z and print it</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(w)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]    1    4    7
[2,]    2    5    8
[3,]    3    6    9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(w[<span class="dv">1</span>,<span class="dv">2</span>]) <span class="co"># Get and print element of w in first row and second column</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(w[<span class="dv">2</span>,])  <span class="co"># Get and print the second row of w</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 5 8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(w[,<span class="dv">1</span>])  <span class="co"># Get and print the first column of w</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3</code></pre>
</div>
</div>
</section>
<section id="r-documentation" class="level2">
<h2 class="anchored" data-anchor-id="r-documentation">R documentation</h2>
<p>In R, you can get help on any function using the built-in <strong><code>help()</code></strong> function or the <strong><code>?</code></strong> operator. To get help on a specific function, simply type <strong><code>help(function_name)</code></strong> or <strong><code>?function_name</code></strong> in the R console, replacing <strong><code>function_name</code></strong> with the name of the function you want to learn more about. For example, to get help on the <strong><code>mean()</code></strong> function, you could type either <strong><code>help(mean)</code></strong> or <strong><code>?mean</code></strong>.</p>
<p>This will open up the help documentation for the function in a new window or pane in your R environment. The help documentation includes a description of what the function does, the arguments it takes, and the values it returns, as well as examples of how to use the function in practice.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(mean)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>?mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>now apply the mean function</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(w)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
<p>We can plot learn and plot vector and matrix variables them using <strong><code>plot()</code></strong>. Note that the <strong><code>plot()</code></strong> function is used to plot the numeric vector <strong><code>z</code></strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the data types</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Help on topic 'plot' was found in the following packages:

  Package               Library
  graphics              /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/library
  base                  /Users/aliaksandrhome/Library/Caches/org.R-project.R/R/renv/sandbox/R-4.2/aarch64-apple-darwin20/84ba8b13


Using the first match ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> z, <span class="at">type =</span> <span class="st">"b"</span>,<span class="at">main =</span> y, <span class="at">xlab =</span> <span class="st">"Elements of z"</span>, <span class="at">ylab =</span> <span class="st">"Values of z"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="task-2-3-minutes" class="level2">
<h2 class="anchored" data-anchor-id="task-2-3-minutes"><strong>Task 2 (3 minutes)</strong></h2>
<p>Now create a new variable v with an integer value of 2 and then create a variable <strong>a &lt;- v + u, b &lt;- v*x, c &lt;- v + u, d &lt;- x/u</strong>, s &lt;- <strong>z*c</strong> , and <strong>m &lt;- (b &gt; a)</strong> then print all these resulting variables using the print command in the code cell below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="dv">2</span>  <span class="co"># Create variable v with an integer value of 2</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create other variables based on v and other existing variables</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> v <span class="sc">+</span> u</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> v <span class="sc">*</span> x</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> v <span class="sc">+</span> u</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> x <span class="sc">/</span> u</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> z<span class="sc">*</span>c</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> (b <span class="sc">&gt;</span> a)</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the values of all variables</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(v)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10.6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.06</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(s)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  7 21 14  7 28 35</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(m)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Then, create a vector named q consisting of a, b, c, d, x, v, u in a given order, print this vector using the print() function, and plot this vector using plot() function. Use red color and lines when plotting (use type = “l” and col = “red” arguments to do that).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the vector q</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>q <span class="ot">&lt;-</span> <span class="fu">c</span>(a, b, c, d, x, v, u)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the vector q</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(q)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  7.00 10.60  7.00  1.06  5.30  2.00  5.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the vector q</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(q, <span class="at">type =</span> <span class="st">"l"</span>, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="data.frame" class="level2">
<h2 class="anchored" data-anchor-id="data.frame"><strong>Data.frame</strong></h2>
<p>Now, let us study the data.frame type of objects in R, data frame consists of a list (coolumns) of vectors, building essentially a frame object similar to excel sheets with rows and columns</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame with weights and heights for male and female</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">gender =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"male"</span>, <span class="dv">5</span>), <span class="fu">rep</span>(<span class="st">"female"</span>, <span class="dv">5</span>)), <span class="co"># see help(rep), i.e. rep repeats "male" 5 times and returns a vector, </span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">height =</span> <span class="fu">c</span>(<span class="dv">175</span>, <span class="dv">180</span>, <span class="dv">165</span>, <span class="dv">172</span>, <span class="dv">168</span>, <span class="dv">165</span>, <span class="dv">170</span>, <span class="dv">162</span>, <span class="dv">175</span>, <span class="dv">168</span>),</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">weight =</span> <span class="fu">c</span>(<span class="dv">70</span>, <span class="dv">80</span>, <span class="dv">95</span>, <span class="dv">75</span>, <span class="dv">100</span>, <span class="dv">55</span>, <span class="dv">60</span>, <span class="dv">120</span>, <span class="dv">65</span>, <span class="dv">58</span>)</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df) <span class="co">#Try help(head)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  gender height weight
1   male    175     70
2   male    180     80
3   male    165     95
4   male    172     75
5   male    168    100
6 female    165     55</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>bmi <span class="ot">&lt;-</span> df<span class="sc">$</span>weight<span class="sc">/</span>((df<span class="sc">$</span>height<span class="sc">/</span><span class="dv">100</span>)<span class="sc">*</span><span class="dv">2</span>)</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  gender height weight      bmi
1   male    175     70 20.00000
2   male    180     80 22.22222
3   male    165     95 28.78788
4   male    172     75 21.80233
5   male    168    100 29.76190
6 female    165     55 16.66667</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set plot parameters</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> df<span class="sc">$</span>height, <span class="at">y =</span> df<span class="sc">$</span>weight, <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">col =</span> <span class="fu">ifelse</span>(df<span class="sc">$</span>gender <span class="sc">==</span> <span class="st">"male"</span>,<span class="st">"blue"</span>,<span class="st">"pink"</span>), <span class="at">xlab =</span> <span class="st">"Height"</span>, <span class="at">ylab =</span> <span class="st">"Weight"</span>, </span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Weight vs. Height by Gender"</span>) <span class="co">#h/b help(ifelse)</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Add legend</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"bottomright"</span>, <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"Male"</span>, <span class="st">"Female"</span>), <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"blue"</span>,<span class="st">"pink"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This code creates a data frame <strong><code>df</code></strong> with two variables <strong><code>height</code></strong> and <strong><code>weight</code></strong> for male and female. The <strong><code>plot()</code></strong> function is used to create a scatter plot of weight as a function of height for both genders on one plot, with <strong><code>pch = 16</code></strong> to set the point marker, <strong><code>col = df$gender</code></strong> to color points by gender, and appropriate labels for the x-axis, y-axis, and title. The <strong><code>legend()</code></strong> function is used to add a legend to the plot, with <strong><code>legend = c("Male", "Female")</code></strong> to set the legend labels and <strong><code>col = c("blue", "red")</code></strong> to match the colors of the points.</p>
<section id="task-3-5-minutes" class="level3">
<h3 class="anchored" data-anchor-id="task-3-5-minutes"><strong>Task 3 (5 minutes)</strong></h3>
<p>Write code that creates a column <strong>weight_problem i</strong>ndicating whether a person has potential weight problems (bmi &gt; 25) and plots the data in different colors based on that variable (instead of gender used above).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a column indicating weight problems</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>weight_problem <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(df<span class="sc">$</span>bmi<span class="sc">&gt;</span><span class="dv">25</span>,<span class="st">"Yes"</span>,<span class="st">"No"</span>)</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Set plot parameters</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(df<span class="sc">$</span>height, df<span class="sc">$</span>weight, <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">col =</span> <span class="fu">ifelse</span>(df<span class="sc">$</span>weight_problem  <span class="sc">==</span> <span class="st">"Yes"</span>,<span class="st">"red"</span>,<span class="st">"green"</span>),</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Height"</span>, <span class="at">ylab =</span> <span class="st">"Weight"</span>, </span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Weight vs. Height by Weight Problem"</span>)</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Add legend</span></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"bottomright"</span>, <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"No"</span>, <span class="st">"Yes"</span>), </span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"green"</span>, <span class="st">"red"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="r-packages" class="level2">
<h2 class="anchored" data-anchor-id="r-packages">R packages</h2>
<p>- R packages extend the capabilities of base R.</p>
<p>- Collections of functions, data, and documentation.</p>
<p>- Created and maintained by the R community.</p>
<p>- Thousands of packages available on <strong>CRAN</strong> and other repositories.</p>
<p>- Cover various topics: data manipulation, visualization, machine learning, and more.</p>
<p><strong>Installing and Loading Packages:</strong></p>
<p>1. Install a package:</p>
<ul>
<li><p>Use <em>utils::</em><strong>install.packages()</strong> function.</p></li>
<li><p>Example: <em>utils::</em><strong>install.packages(“ggplot2”)</strong> for the ggplot2 package.</p></li>
</ul>
<p>2. Load a package:</p>
<ul>
<li><p>Use <strong>library()</strong> function.</p></li>
<li><p>Example: <strong>library(ggplot2)</strong> to load ggplot2.</p></li>
<li><p>Makes package functions available for use.</p></li>
</ul>
<p>- Install packages <strong>once</strong>, <strong>load</strong> them <strong>for each</strong> R session.</p>
<p>- R packages enhance data analysis and modeling capabilities.</p>
<p>- Create a vibrant ecosystem of R tools and resources.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>utils<span class="sc">::</span><span class="fu">install.packages</span>(<span class="st">"ggplot2"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Installing package into '/Users/aliaksandrhome/R Intro Course/renv/library/R-4.2/aarch64-apple-darwin20'
(as 'lib' is unspecified)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
The downloaded binary packages are in
    /var/folders/h5/z18hplzn08n7t9s8424rhx600000gp/T//RtmpdzrEkF/downloaded_packages</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot weight as a function of height for both genders</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> height, <span class="at">y =</span> weight, <span class="at">color =</span> gender)) <span class="sc">+</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="task-4-2-minutes" class="level2">
<h2 class="anchored" data-anchor-id="task-4-2-minutes"><strong>Task 4 (2 minutes)</strong></h2>
<p>Install package <strong>aRtsy</strong>. Then load it and run a <strong>help(canvas_flame)</strong> followed by <strong>canvas_flame(colors = colorPalette(“dark2”))</strong> functions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>utils<span class="sc">::</span><span class="fu">install.packages</span>(<span class="st">"aRtsy"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Installing package into '/Users/aliaksandrhome/R Intro Course/renv/library/R-4.2/aarch64-apple-darwin20'
(as 'lib' is unspecified)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
  There is a binary version available but the source version is later:
      binary source needs_compilation
aRtsy  0.2.2  0.2.3              TRUE</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>installing the source package 'aRtsy'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in utils::install.packages("aRtsy"): installation of package 'aRtsy' had
non-zero exit status</code></pre>
</div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(aRtsy)</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(canvas_flame)</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="fu">canvas_flame</span>(<span class="at">colors =</span> <span class="fu">colorPalette</span>(<span class="st">"dark2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="hour-2" class="level1">
<h1>Hour 2</h1>
<section id="data-writing" class="level2">
<h2 class="anchored" data-anchor-id="data-writing">Data writing</h2>
<p><strong>Save</strong> the weight data <strong>df</strong> that we created in the first hour into <strong>.csv</strong> and <strong>.txt</strong> formats</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  gender height weight      bmi weight_problem
1   male    175     70 20.00000             No
2   male    180     80 22.22222             No
3   male    165     95 28.78788            Yes
4   male    172     75 21.80233             No
5   male    168    100 29.76190            Yes
6 female    165     55 16.66667             No</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(<span class="at">x =</span> df,<span class="at">file =</span> <span class="st">"data.csv"</span>)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.table</span>(<span class="at">x =</span> df,<span class="at">file =</span> <span class="st">"data.txt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Save</strong> the weight data <strong>df</strong> that we created in the first hour into and <strong>.sav</strong> formats for excel and SPSS, Stata, SAS. Here, we first need to install the <strong>foreign</strong> package</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install and load the required package</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>utils<span class="sc">::</span><span class="fu">install.packages</span>(<span class="st">"foreign"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Installing package into '/Users/aliaksandrhome/R Intro Course/renv/library/R-4.2/aarch64-apple-darwin20'
(as 'lib' is unspecified)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
The downloaded binary packages are in
    /var/folders/h5/z18hplzn08n7t9s8424rhx600000gp/T//RtmpdzrEkF/downloaded_packages</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(foreign)</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Save data frame to SPSS </span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a><span class="fu">write.foreign</span>(df, <span class="st">"data.sav"</span>, <span class="st">"data"</span>, <span class="at">package =</span> <span class="st">"SPSS"</span>)</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Save data frame to SAS</span></span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a><span class="fu">write.foreign</span>(df, <span class="st">"data.sas"</span>, <span class="st">"data"</span>, <span class="at">package =</span> <span class="st">"SAS"</span>)</span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Save data frame to Stata</span></span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write.foreign</span>(df, <span class="st">"data.dta"</span>, <span class="st">"data"</span>, <span class="at">package =</span> <span class="st">"Stata"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="writing-to-excel" class="level2">
<h2 class="anchored" data-anchor-id="writing-to-excel">Writing to excel</h2>
<p><strong>Save</strong> the weight data <strong>df</strong> that we created in the first hour into .xlsx format using <strong>write_xlsx()</strong> function. Here, we first need to install the <strong>writexl</strong> package</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>utils<span class="sc">::</span><span class="fu">install.packages</span>(<span class="st">"writexl"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Installing package into '/Users/aliaksandrhome/R Intro Course/renv/library/R-4.2/aarch64-apple-darwin20'
(as 'lib' is unspecified)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
The downloaded binary packages are in
    /var/folders/h5/z18hplzn08n7t9s8424rhx600000gp/T//RtmpdzrEkF/downloaded_packages</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(writexl)</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Save data frame to Excel (.xlsx)</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a><span class="fu">write_xlsx</span>(df, <span class="st">"data.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-reading" class="level2">
<h2 class="anchored" data-anchor-id="data-reading">Data reading</h2>
<p>Now read the saved data into R from <strong>.csv</strong>, <strong>.txt</strong> and check that this has been done correctly</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  gender height weight      bmi weight_problem
1   male    175     70 20.00000             No
2   male    180     80 22.22222             No
3   male    165     95 28.78788            Yes
4   male    172     75 21.80233             No
5   male    168    100 29.76190            Yes
6 female    165     55 16.66667             No</code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>df.csv <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data.csv"</span>)</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df.csv)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  X gender height weight      bmi weight_problem
1 1   male    175     70 20.00000             No
2 2   male    180     80 22.22222             No
3 3   male    165     95 28.78788            Yes
4 4   male    172     75 21.80233             No
5 5   male    168    100 29.76190            Yes
6 6 female    165     55 16.66667             No</code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>df.csv <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data.csv"</span>)[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df.csv)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  gender height weight      bmi weight_problem
1   male    175     70 20.00000             No
2   male    180     80 22.22222             No
3   male    165     95 28.78788            Yes
4   male    172     75 21.80233             No
5   male    168    100 29.76190            Yes
6 female    165     55 16.66667             No</code></pre>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>df.txt <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">"data.txt"</span>)</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df.txt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  gender height weight      bmi weight_problem
1   male    175     70 20.00000             No
2   male    180     80 22.22222             No
3   male    165     95 28.78788            Yes
4   male    172     75 21.80233             No
5   male    168    100 29.76190            Yes
6 female    165     55 16.66667             No</code></pre>
</div>
</div>
</section>
<section id="task-5-2-minutes" class="level2">
<h2 class="anchored" data-anchor-id="task-5-2-minutes"><strong>Task 5 (2 minutes)</strong></h2>
<p><strong>Read</strong> the weight data <strong>from</strong> .xlsx format using <strong>read_xlsx()</strong> function (follow the <strong>write_xlsx()</strong> example ). Ckech what you have read through <strong>head()</strong> command. Here, we first need to <strong>install</strong> the <strong>readexl</strong> package.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>utils<span class="sc">::</span><span class="fu">install.packages</span>(<span class="st">"readxl"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Installing package into '/Users/aliaksandrhome/R Intro Course/renv/library/R-4.2/aarch64-apple-darwin20'
(as 'lib' is unspecified)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
The downloaded binary packages are in
    /var/folders/h5/z18hplzn08n7t9s8424rhx600000gp/T//RtmpdzrEkF/downloaded_packages</code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  gender height weight      bmi weight_problem
1   male    175     70 20.00000             No
2   male    180     80 22.22222             No
3   male    165     95 28.78788            Yes
4   male    172     75 21.80233             No
5   male    168    100 29.76190            Yes
6 female    165     55 16.66667             No</code></pre>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save data frame to Excel (.xlsx)</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>df.xlsx <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"data.xlsx"</span>,<span class="at">sheet =</span> <span class="dv">1</span>)</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df.xlsx)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  gender height weight   bmi weight_problem
  &lt;chr&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;         
1 male      175     70  20   No            
2 male      180     80  22.2 No            
3 male      165     95  28.8 Yes           
4 male      172     75  21.8 No            
5 male      168    100  29.8 Yes           
6 female    165     55  16.7 No            </code></pre>
</div>
</div>
<p>You probably got a slightly different data.frame format, it is because <strong>readxl</strong> uses a bit more advanced data frames, but we can convert them to the basic ones as follows using the <strong>as.data.frame()</strong> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  gender height weight      bmi weight_problem
1   male    175     70 20.00000             No
2   male    180     80 22.22222             No
3   male    165     95 28.78788            Yes
4   male    172     75 21.80233             No
5   male    168    100 29.76190            Yes
6 female    165     55 16.66667             No</code></pre>
</div>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>df.xlsx <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">read_xlsx</span>(<span class="st">"data.xlsx"</span>,<span class="at">sheet =</span> <span class="dv">1</span>))</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df.xlsx)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  gender height weight      bmi weight_problem
1   male    175     70 20.00000             No
2   male    180     80 22.22222             No
3   male    165     95 28.78788            Yes
4   male    172     75 21.80233             No
5   male    168    100 29.76190            Yes
6 female    165     55 16.66667             No</code></pre>
</div>
</div>
<p>N/b reading from SAS, SPSS, and Stata can also be done through <strong>foreign</strong> package, but we skip that for the interest of time.</p>
</section>
<section id="read-a-real-data-to-analyze" class="level2">
<h2 class="anchored" data-anchor-id="read-a-real-data-to-analyze">Read a real data to analyze</h2>
<ul>
<li><p>Dataset Description:</p>
<ul>
<li><p>Salaries of Employees dataset.</p></li>
<li><p>Includes information on gender, age, and PhD degree.</p></li>
<li><p>Downloaded from UCI Machine Learning Repository.</p></li>
<li><p>Limited number of instances: 100.</p></li>
<li><p>Contains 4 attributes, including the class attribute.</p></li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"salary.csv"</span>)</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Salary Gender Age PhD
1  140.0      1  47   1
2   30.0      0  65   1
3   35.1      0  56   0
4   30.0      1  23   0
5   80.0      0  53   1
6   30.0      0  27   0</code></pre>
</div>
</div>
</section>
<section id="introduction-to-loops-and-if-statements-in-r-a-bit-advanced" class="level2">
<h2 class="anchored" data-anchor-id="introduction-to-loops-and-if-statements-in-r-a-bit-advanced"><strong>Introduction to Loops and If Statements in R (a bit advanced)</strong></h2>
<ul>
<li><p>Loops and if statements are fundamental programming constructs in R that allow us to perform repetitive tasks and make decisions based on certain conditions.</p></li>
<li><p>Let’s consider an example using a dataset of employee salaries to understand how loops and if statements can be used in R.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the average salary</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>avg_salary <span class="ot">&lt;-</span> <span class="fu">mean</span>(data<span class="sc">$</span>Salary)</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(avg_salary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 52.5245</code></pre>
</div>
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an empty column to store income levels</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>above_mean_salary <span class="ot">&lt;-</span> <span class="st">""</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(data<span class="sc">$</span>above_mean_salary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""
 [26] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""
 [51] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""
 [76] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""</code></pre>
</div>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each row of the data</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(data)) {</span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Check if the salary is above or below average</span></span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (data<span class="sc">$</span>Salary[i] <span class="sc">&gt;</span> avg_salary) {</span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a>    data<span class="sc">$</span>above_mean_salary[i] <span class="ot">&lt;-</span> <span class="st">"Yes"</span></span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb98-7"><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a>    data<span class="sc">$</span>above_mean_salary[i] <span class="ot">&lt;-</span> <span class="st">"No"</span></span>
<span id="cb98-8"><a href="#cb98-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb98-9"><a href="#cb98-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb98-10"><a href="#cb98-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-11"><a href="#cb98-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(data<span class="sc">$</span>above_mean_salary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] "Yes" "No"  "No"  "No"  "Yes" "No"  "Yes" "No"  "Yes" "No"  "No"  "No" 
 [13] "Yes" "No"  "Yes" "No"  "Yes" "Yes" "Yes" "Yes" "Yes" "No"  "No"  "No" 
 [25] "No"  "No"  "No"  "No"  "Yes" "Yes" "Yes" "Yes" "Yes" "No"  "No"  "No" 
 [37] "No"  "No"  "Yes" "Yes" "No"  "Yes" "Yes" "No"  "No"  "No"  "No"  "Yes"
 [49] "No"  "No"  "No"  "No"  "No"  "No"  "Yes" "No"  "Yes" "Yes" "Yes" "No" 
 [61] "Yes" "No"  "Yes" "Yes" "No"  "No"  "No"  "No"  "No"  "No"  "No"  "No" 
 [73] "No"  "Yes" "No"  "No"  "No"  "Yes" "No"  "No"  "Yes" "No"  "Yes" "No" 
 [85] "No"  "No"  "No"  "Yes" "Yes" "No"  "Yes" "No"  "No"  "Yes" "Yes" "No" 
 [97] "Yes" "No"  "No"  "No" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the updated data</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Salary Gender Age PhD above_mean_salary
1  140.0      1  47   1               Yes
2   30.0      0  65   1                No
3   35.1      0  56   0                No
4   30.0      1  23   0                No
5   80.0      0  53   1               Yes
6   30.0      0  27   0                No</code></pre>
</div>
</div>
<ul>
<li><p>In this code snippet, we calculate the average salary using the <strong><code>mean()</code></strong> function and create an empty column <strong><code>above_mean_salary</code></strong> to store whether income levels are above the average.</p></li>
<li><p>We use a for loop to iterate through each row of the data and check if the salary is above or below the average using an if statement.</p></li>
<li><p>If the salary is above average, we assign the value “Yes” to the corresponding element in <strong><code>above_mean_salary</code></strong>, otherwise, we assign “No”.</p></li>
<li><p>Finally, display the updated data using the <strong><code>head()</code></strong> function.</p></li>
<li><p>This example showcases how to use loops and if statements to perform calculations and make decisions based on specific conditions in R. By mastering these concepts, you can efficiently process and analyze large datasets, automate tasks, and create more complex programs in R.</p></li>
</ul>
</section>
<section id="task-6-4-minutes" class="level2">
<h2 class="anchored" data-anchor-id="task-6-4-minutes"><strong>Task 6 (4 minutes)</strong></h2>
<p>Use for loops and if else statements to define a column <strong><code>above_mean_age</code></strong> following our example above and compute a column of whether the individual has the age above average in our sample</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the average age</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>avg_age <span class="ot">&lt;-</span> <span class="fu">mean</span>(data<span class="sc">$</span>Age)</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(avg_age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 46.88</code></pre>
</div>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an empty column to store age groups</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>above_mean_age <span class="ot">&lt;-</span> <span class="st">""</span></span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each row of the data</span></span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(data)) {</span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Check if the age is above or below average</span></span>
<span id="cb104-7"><a href="#cb104-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (data<span class="sc">$</span>Age[i] <span class="sc">&gt;</span> avg_age) {</span>
<span id="cb104-8"><a href="#cb104-8" aria-hidden="true" tabindex="-1"></a>    data<span class="sc">$</span>above_mean_age[i] <span class="ot">&lt;-</span> <span class="st">"Yes"</span></span>
<span id="cb104-9"><a href="#cb104-9" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb104-10"><a href="#cb104-10" aria-hidden="true" tabindex="-1"></a>    data<span class="sc">$</span>above_mean_age[i] <span class="ot">&lt;-</span> <span class="st">"No"</span></span>
<span id="cb104-11"><a href="#cb104-11" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb104-12"><a href="#cb104-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb104-13"><a href="#cb104-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-14"><a href="#cb104-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-15"><a href="#cb104-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the updated data</span></span>
<span id="cb104-16"><a href="#cb104-16" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Salary Gender Age PhD above_mean_salary above_mean_age
1  140.0      1  47   1               Yes            Yes
2   30.0      0  65   1                No            Yes
3   35.1      0  56   0                No            Yes
4   30.0      1  23   0                No             No
5   80.0      0  53   1               Yes            Yes
6   30.0      0  27   0                No             No</code></pre>
</div>
</div>
</section>
<section id="computing-column-without-loops---salary-above-median" class="level2">
<h2 class="anchored" data-anchor-id="computing-column-without-loops---salary-above-median"><strong>Computing Column Without Loops - Salary Above Median</strong></h2>
<ul>
<li>In R, we can perform computations and create new columns in a data frame without explicitly using loops. Let’s explore an example of computing a column indicating whether the salary is above the median salary.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the median salary</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>median_salary <span class="ot">&lt;-</span> <span class="fu">median</span>(data<span class="sc">$</span>Salary)</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(median_salary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 39.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new column using a logical condition</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>above_median_salary <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(data<span class="sc">$</span>Salary <span class="sc">&gt;</span> median_salary, <span class="st">"Yes"</span>, <span class="st">"No"</span>)</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the updated data</span></span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Salary Gender Age PhD above_mean_salary above_mean_age above_median_salary
1  140.0      1  47   1               Yes            Yes                 Yes
2   30.0      0  65   1                No            Yes                  No
3   35.1      0  56   0                No            Yes                  No
4   30.0      1  23   0                No             No                  No
5   80.0      0  53   1               Yes            Yes                 Yes
6   30.0      0  27   0                No             No                  No</code></pre>
</div>
</div>
</section>
<section id="task-7-2-minutes" class="level2">
<h2 class="anchored" data-anchor-id="task-7-2-minutes"><strong>Task 7 (2 minutes)</strong></h2>
<p>Define a column <strong><code>above_median_age</code></strong> without using loops following our example above</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the median age</span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>median_age <span class="ot">&lt;-</span> <span class="fu">median</span>(data<span class="sc">$</span>Age)</span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(median_age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 49</code></pre>
</div>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new column using a logical condition</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>above_median_age <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(data<span class="sc">$</span>Age <span class="sc">&gt;</span> median_age, <span class="st">"Yes"</span>, <span class="st">"No"</span>)</span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the updated data</span></span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Salary Gender Age PhD above_mean_salary above_mean_age above_median_salary
1  140.0      1  47   1               Yes            Yes                 Yes
2   30.0      0  65   1                No            Yes                  No
3   35.1      0  56   0                No            Yes                  No
4   30.0      1  23   0                No             No                  No
5   80.0      0  53   1               Yes            Yes                 Yes
6   30.0      0  27   0                No             No                  No
  above_median_age
1               No
2              Yes
3              Yes
4               No
5              Yes
6               No</code></pre>
</div>
</div>
</section>
<section id="defining-a-user-function-advanced" class="level2">
<h2 class="anchored" data-anchor-id="defining-a-user-function-advanced"><strong>Defining a user function (advanced)</strong></h2>
<p>Let us define a new function in R that counts the number of differing values in a pair of vectors of the same length:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>count_diff_values <span class="ot">&lt;-</span> <span class="cf">function</span>(vector1, vector2) {</span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">length</span>(vector1)<span class="sc">!=</span><span class="fu">length</span>(vector1))</span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Stop</span>(<span class="st">"Error: vectors should be of the same length"</span>)</span>
<span id="cb114-6"><a href="#cb114-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb114-7"><a href="#cb114-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb114-8"><a href="#cb114-8" aria-hidden="true" tabindex="-1"></a>  diff <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb114-9"><a href="#cb114-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(vector1))</span>
<span id="cb114-10"><a href="#cb114-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(vector1[i] <span class="sc">!=</span> vector2[i])</span>
<span id="cb114-11"><a href="#cb114-11" aria-hidden="true" tabindex="-1"></a>      diff <span class="ot">&lt;-</span> diff <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb114-12"><a href="#cb114-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb114-13"><a href="#cb114-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(diff)</span>
<span id="cb114-14"><a href="#cb114-14" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>The <strong><code>count_diff_values</code></strong> function counts the number of differences between two input vectors.</p></li>
<li><p>Usage: <strong><code>count_diff_values(vector1, vector2)</code></strong></p></li>
<li><p>Preconditions:</p>
<ul>
<li>The input vectors <strong><code>vector1</code></strong> and <strong><code>vector2</code></strong> must have the same length.</li>
</ul></li>
<li><p>Steps:</p>
<ol type="1">
<li><p>Check if the lengths of <strong><code>vector1</code></strong> and <strong><code>vector2</code></strong> are equal.</p>
<ul>
<li>If not equal, an error is thrown.</li>
</ul></li>
<li><p>Initialize a variable <strong><code>diff</code></strong> to 0.</p></li>
<li><p>Loop through each element of <strong><code>vector1</code></strong>.</p></li>
<li><p>Compare the corresponding elements of <strong><code>vector1</code></strong> and <strong><code>vector2</code></strong>.</p>
<ul>
<li>If they are different, increment <strong><code>diff</code></strong> by 1.</li>
</ul></li>
<li><p>Return the final value of <strong><code>diff</code></strong>, representing the count of differences.</p></li>
</ol></li>
<li><p><strong>Example</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>vector1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">4</span>)</span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a>vector2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">7</span>)</span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">count_diff_values</span>(vector1, vector2)</span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div></li>
</ul>
<p>Now, apply <strong><code>count_diff_values</code></strong> to check how many people have a different status for <strong>above_min_salary</strong> and <strong>above_median_salary</strong>, then do thew same for <strong>age</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check differences in salary status</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>diff_salary <span class="ot">&lt;-</span> <span class="fu">count_diff_values</span>(data<span class="sc">$</span>above_mean_salary, data<span class="sc">$</span>above_median_salary)</span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(diff_salary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12</code></pre>
</div>
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check differences in age status</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>diff_age <span class="ot">&lt;-</span> <span class="fu">count_diff_values</span>(data<span class="sc">$</span>above_mean_age, data<span class="sc">$</span>above_median_age)</span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(diff_age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
</div>
</section>
</section>
<section id="hour-3" class="level1">
<h1>Hour 3</h1>
<section id="explanatory-data-analysis" class="level2">
<h2 class="anchored" data-anchor-id="explanatory-data-analysis">Explanatory data analysis</h2>
<p>Let us learn how to get some summary statistics for our data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary statistics for numerical variables</span></span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data<span class="sc">$</span>Salary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   0.25   20.00   39.30   52.52   75.50  190.00 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary statistics for categorical variables</span></span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(data<span class="sc">$</span>Gender)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 0  1 
50 50 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cross-tabulation of Gender and PhD</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(data<span class="sc">$</span>Gender, data<span class="sc">$</span>PhD)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   
     0  1
  0 35 15
  1 26 24</code></pre>
</div>
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate consinous vaiable by a categorical variable</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="fu">aggregate</span>(data<span class="sc">$</span>Salary, <span class="at">by =</span> <span class="fu">list</span>(data<span class="sc">$</span>PhD), <span class="at">FUN =</span> mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Group.1        x
1       0 33.86311
2       1 81.71282</code></pre>
</div>
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Correlation between variables</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(data[,<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          Salary    Gender       Age       PhD
Salary 1.0000000 0.2593116 0.4770431 0.5555601
Gender 0.2593116 1.0000000 0.1605800 0.1845208
Age    0.4770431 0.1605800 1.0000000 0.3530814
PhD    0.5555601 0.1845208 0.3530814 1.0000000</code></pre>
</div>
</div>
</section>
<section id="task-8-2-minutes" class="level2">
<h2 class="anchored" data-anchor-id="task-8-2-minutes"><strong>Task 8 (2 minutes)</strong></h2>
<p>Run <strong>summary</strong> for <strong>age</strong>, run <strong>table</strong> for <strong>PhD</strong>, <strong>cross tabulate using table</strong> <strong>above_mean_salary</strong> and <strong>above_mean_age</strong>, aggregate <strong>Salary</strong> by <strong>Gender</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data<span class="sc">$</span>Age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  20.00   31.50   49.00   46.88   60.00   77.00 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(data<span class="sc">$</span>PhD)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 0  1 
61 39 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(data<span class="sc">$</span>above_mean_salary,data<span class="sc">$</span>above_mean_age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     
      No Yes
  No  36  26
  Yes  8  30</code></pre>
</div>
</div>
<p>Now, look at distribution through <strong>histograms</strong> of continuous variables and <strong>barplots</strong> of discrete variables</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram of Salary</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(data<span class="sc">$</span>Salary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram of log Salary</span></span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(<span class="fu">log</span>(data<span class="sc">$</span>Salary))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-30-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram of Gender</span></span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(data<span class="sc">$</span>Gender), <span class="at">main =</span> <span class="st">"Gender"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-30-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram of whether one has above median salary</span></span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(data<span class="sc">$</span>above_median_salary),<span class="at">main =</span> <span class="st">"above_median_salary"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-30-4.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram of whether one has above mean salary</span></span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(data<span class="sc">$</span>above_mean_salary), <span class="at">main =</span> <span class="st">"above_mean_salary"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-30-5.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram of whether one has above median age</span></span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(data<span class="sc">$</span>above_median_age), <span class="at">main =</span> <span class="st">"above_median_age"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-30-6.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram of whether one has above mean age</span></span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(data<span class="sc">$</span>above_mean_age), <span class="at">main =</span> <span class="st">"above_mean_age"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-30-7.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>And let us learn to plot <strong>boxplots</strong> of continuous variables</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Boxplot of Salary</span></span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(data<span class="sc">$</span>Salary,<span class="at">main =</span> <span class="st">"Salary"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Boxplot of Salary by Gender</span></span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(data<span class="sc">$</span>Salary <span class="sc">~</span> data<span class="sc">$</span>Gender)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-31-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Boxplot of Salary by PhD</span></span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(data<span class="sc">$</span>Salary <span class="sc">~</span> data<span class="sc">$</span>PhD)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-31-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Boxplot of Salary by PhD and Gender</span></span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(data<span class="sc">$</span>Salary <span class="sc">~</span> data<span class="sc">$</span>PhD <span class="sc">+</span> data<span class="sc">$</span>Gender)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-31-4.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="task-9-3-minutes" class="level2">
<h2 class="anchored" data-anchor-id="task-9-3-minutes"><strong>Task 9 (3 minutes)</strong></h2>
<p>Plot <strong>hist</strong> of <strong>age</strong>, <strong>barplot</strong> of <strong>PhD</strong>, <strong>boxplots</strong> of <strong>Age</strong>, <strong>Age</strong> by <strong>Gender</strong>, <strong>Age</strong> by <strong>PhD</strong> and <strong>Age</strong> by both <strong>Gender and PhD</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram of Age</span></span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(data<span class="sc">$</span>Age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram of PhD status</span></span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(data<span class="sc">$</span>PhD), <span class="at">main =</span> <span class="st">"PhD"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-32-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Boxplot of Age</span></span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(data<span class="sc">$</span>Age,<span class="at">main =</span> <span class="st">"Age"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-32-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Boxplot of Age by Gender</span></span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(data<span class="sc">$</span>Age <span class="sc">~</span> data<span class="sc">$</span>Gender)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-32-4.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Boxplot of Age by PhD</span></span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(data<span class="sc">$</span>Age <span class="sc">~</span> data<span class="sc">$</span>PhD)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-32-5.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Boxplot of Age by PhD and Gender</span></span>
<span id="cb153-2"><a href="#cb153-2" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(data<span class="sc">$</span>Age <span class="sc">~</span> data<span class="sc">$</span>PhD <span class="sc">+</span> data<span class="sc">$</span>Gender)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-32-6.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="introduction-to-t-tests" class="level2">
<h2 class="anchored" data-anchor-id="introduction-to-t-tests">Introduction to t-tests</h2>
<p>We shall learn how to check assumptions and run the one sample t-test and two sample t-tests. No math details are given in this short course.</p>
</section>
<section id="one-sample-t-test" class="level2">
<h2 class="anchored" data-anchor-id="one-sample-t-test"><strong>One-Sample t-Test</strong></h2>
<ul>
<li><p>The <strong>null hypothesis</strong> in a <strong>one-sample t-test</strong> states that <strong>there is no significant difference between the sample mean and a specified value</strong>.</p></li>
<li><p>Example: In our analysis of <strong>Salary</strong>, we can formulate the <strong>null hypothesis</strong> as follows:</p>
<ul>
<li><strong>H0: The mean Salary = $70,000</strong></li>
</ul></li>
<li><p>The alternative hypothesis could then be:</p>
<ul>
<li><p><strong>HA: The mean Salary != $70,000</strong></p></li>
<li><p><strong>HA: The mean Salary &gt; $70,000</strong></p></li>
<li><p><strong>HA: The mean Salary &lt; $70,000</strong></p></li>
</ul></li>
<li><p>If the <strong>p-value is less</strong> than the chosen significance level (α), typically <strong>0.05</strong>:</p>
<ul>
<li><p>Reject the null hypothesis.</p></li>
<li><p>Conclude that there is <strong>a significant difference</strong> between the means of the two groups.</p></li>
</ul></li>
<li><p>If the <strong>p-value</strong> is <strong>greater</strong> than or equal to α:</p>
<ul>
<li><p>Fail to reject the null hypothesis.</p></li>
<li><p>Indicate <strong>no significant difference</strong> between the means of the two groups.</p></li>
</ul></li>
</ul>
<p><strong>One-Sample t-test on Salary:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="co"># One-sample t-tests</span></span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(data<span class="sc">$</span>Salary, <span class="at">mu =</span> <span class="dv">70</span>, <span class="at">alternative =</span> <span class="st">"two.sided"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    One Sample t-test

data:  data$Salary
t = -4.1391, df = 99, p-value = 7.335e-05
alternative hypothesis: true mean is not equal to 70
95 percent confidence interval:
 44.14695 60.90205
sample estimates:
mean of x 
  52.5245 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(data<span class="sc">$</span>Salary, <span class="at">mu =</span> <span class="dv">70</span>, <span class="at">alternative =</span> <span class="st">"less"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    One Sample t-test

data:  data$Salary
t = -4.1391, df = 99, p-value = 3.667e-05
alternative hypothesis: true mean is less than 70
95 percent confidence interval:
     -Inf 59.53483
sample estimates:
mean of x 
  52.5245 </code></pre>
</div>
</div>
<p><strong>Assumptions</strong> of a one-Sample t-test: Salary Analysis</p>
<ol type="1">
<li><p><strong>Normality Assumption</strong>:</p>
<ul>
<li><p><strong>Shapiro-Wilk test</strong> assesses normality.</p></li>
<li><p>Null hypothesis: <strong>Salary data is <u>normally distributed.</u></strong></p></li>
<li><p>If p-value &lt; significance level (e.g., 0.05), reject the null hypothesis.</p></li>
</ul></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="co"># One-sample t-test assumptions</span></span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Shapiro-Wilk test for normality</span></span>
<span id="cb158-4"><a href="#cb158-4" aria-hidden="true" tabindex="-1"></a><span class="fu">shapiro.test</span>(data<span class="sc">$</span>Salary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  data$Salary
W = 0.90288, p-value = 1.937e-06</code></pre>
</div>
</div>
</section>
<section id="task-10-2-minutes" class="level2">
<h2 class="anchored" data-anchor-id="task-10-2-minutes"><strong>Task 10 (2 minutes)</strong></h2>
<p><strong>Check</strong> the <strong>normality</strong> assumption for <strong>age</strong> and run the <strong>t-test</strong> of <strong>mean age</strong> being equal to <strong>50</strong> with a two-sided alternative</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Shapiro-Wilk test for normality</span></span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a><span class="fu">shapiro.test</span>(data<span class="sc">$</span>Age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  data$Age
W = 0.9409, p-value = 0.0002188</code></pre>
</div>
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(data<span class="sc">$</span>Age, <span class="at">mu =</span> <span class="dv">50</span>, <span class="at">alternative =</span> <span class="st">"two.sided"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    One Sample t-test

data:  data$Age
t = -2.043, df = 99, p-value = 0.04371
alternative hypothesis: true mean is not equal to 50
95 percent confidence interval:
 43.84981 49.91019
sample estimates:
mean of x 
    46.88 </code></pre>
</div>
</div>
<p>If <strong>normality</strong> assumptions are <strong>not met</strong>, run a sign test instead of t-test with the following syntax</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a>utils<span class="sc">::</span><span class="fu">install.packages</span>(<span class="st">"BSDA"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Installing package into '/Users/aliaksandrhome/R Intro Course/renv/library/R-4.2/aarch64-apple-darwin20'
(as 'lib' is unspecified)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
The downloaded binary packages are in
    /var/folders/h5/z18hplzn08n7t9s8424rhx600000gp/T//RtmpdzrEkF/downloaded_packages</code></pre>
</div>
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(BSDA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: lattice</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'BSDA'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:datasets':

    Orange</code></pre>
</div>
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform one-sample sign test</span></span>
<span id="cb171-2"><a href="#cb171-2" aria-hidden="true" tabindex="-1"></a><span class="fu">SIGN.test</span>(data<span class="sc">$</span>Salary, <span class="at">md =</span> <span class="dv">70</span>, <span class="at">alternative =</span> <span class="st">"two.sided"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    One-sample Sign-Test

data:  data$Salary
s = 30, p-value = 7.85e-05
alternative hypothesis: true median is not equal to 70
95 percent confidence interval:
 31.71416 52.00000
sample estimates:
median of x 
       39.3 

Achieved and Interpolated Confidence Intervals: 

                  Conf.Level  L.E.pt U.E.pt
Lower Achieved CI     0.9431 32.0000     52
Interpolated CI       0.9500 31.7142     52
Upper Achieved CI     0.9648 31.1000     52</code></pre>
</div>
</div>
</section>
<section id="two-samples-t-test" class="level2">
<h2 class="anchored" data-anchor-id="two-samples-t-test"><strong>Two-Samples t-test</strong></h2>
<p><strong>Null Hypothesis</strong> (H0): The means of two independent groups being compared are equal.</p>
<ul>
<li>H0: μ1 = μ2</li>
</ul>
<p><strong>Alternative Hypotheses</strong> (HA): The means of two independent groups being compared are not equal or one of them is greater.</p>
<ul>
<li><p>HA: μ1 ≠ μ2</p></li>
<li><p>HA: μ1 &gt; μ2</p></li>
<li><p>HA: μ1 &lt; μ2</p></li>
</ul>
<p>Considerations:</p>
<ul>
<li><p>μ1 represents the population mean of Group 1.</p></li>
<li><p>μ2 represents the population mean of Group 2.</p></li>
</ul>
<p><strong>Run</strong> t-tests with all three alternative hypotheses</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset the data by PhD status</span></span>
<span id="cb173-2"><a href="#cb173-2" aria-hidden="true" tabindex="-1"></a>salary_phd <span class="ot">&lt;-</span> data<span class="sc">$</span>Salary[data<span class="sc">$</span>PhD <span class="sc">==</span> <span class="dv">1</span>]</span>
<span id="cb173-3"><a href="#cb173-3" aria-hidden="true" tabindex="-1"></a>salary_non_phd <span class="ot">&lt;-</span> data<span class="sc">$</span>Salary[data<span class="sc">$</span>PhD <span class="sc">==</span> <span class="dv">0</span>]</span>
<span id="cb173-4"><a href="#cb173-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-5"><a href="#cb173-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform two-sample t-test</span></span>
<span id="cb173-6"><a href="#cb173-6" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(salary_phd, salary_non_phd,<span class="at">alternative =</span> <span class="st">"two.sided"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Welch Two Sample t-test

data:  salary_phd and salary_non_phd
t = 6.125, df = 61.568, p-value = 6.989e-08
alternative hypothesis: true difference in means is not equal to 0
95 percent confidence interval:
 32.23115 63.46826
sample estimates:
mean of x mean of y 
 81.71282  33.86311 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(salary_phd, salary_non_phd,<span class="at">alternative =</span> <span class="st">"greater"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Welch Two Sample t-test

data:  salary_phd and salary_non_phd
t = 6.125, df = 61.568, p-value = 3.494e-08
alternative hypothesis: true difference in means is greater than 0
95 percent confidence interval:
 34.80347      Inf
sample estimates:
mean of x mean of y 
 81.71282  33.86311 </code></pre>
</div>
</div>
<p><strong>Normality</strong> assumptions for the data in both groups</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Shapiro-Wilk test for normality</span></span>
<span id="cb177-2"><a href="#cb177-2" aria-hidden="true" tabindex="-1"></a><span class="fu">shapiro.test</span>(salary_phd)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  salary_phd
W = 0.95129, p-value = 0.0908</code></pre>
</div>
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu">shapiro.test</span>(salary_non_phd)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  salary_non_phd
W = 0.84795, p-value = 2.266e-06</code></pre>
</div>
</div>
<p><strong>Equal variance</strong> assumption between the groups</p>
<ul>
<li><p>Levene’s test examines equality of variances.</p></li>
<li><p>Null hypothesis: Variances of Salary data are equal.</p></li>
<li><p>If p-value &gt; significance level, <strong>fail to reject the null hypothesis.</strong></p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a>utils<span class="sc">::</span><span class="fu">install.packages</span>(<span class="st">"car"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Installing package into '/Users/aliaksandrhome/R Intro Course/renv/library/R-4.2/aarch64-apple-darwin20'
(as 'lib' is unspecified)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
The downloaded binary packages are in
    /var/folders/h5/z18hplzn08n7t9s8424rhx600000gp/T//RtmpdzrEkF/downloaded_packages</code></pre>
</div>
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(car)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: carData</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'carData'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:BSDA':

    Vocab, Wool</code></pre>
</div>
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Levene's test for equality of variances</span></span>
<span id="cb188-2"><a href="#cb188-2" aria-hidden="true" tabindex="-1"></a><span class="fu">leveneTest</span>(Salary<span class="sc">~</span><span class="fu">factor</span>(PhD), <span class="at">data =</span> data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Levene's Test for Homogeneity of Variance (center = median)
      Df F value  Pr(&gt;F)  
group  1  6.4075 0.01295 *
      98                  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>Assumptions are not met, hence run Mann-Whitney U test</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform Mann-Whitney U test</span></span>
<span id="cb190-2"><a href="#cb190-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-3"><a href="#cb190-3" aria-hidden="true" tabindex="-1"></a><span class="fu">wilcox.test</span>(salary_phd, salary_non_phd,<span class="at">alternative =</span> <span class="st">"two.sided"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Wilcoxon rank sum test with continuity correction

data:  salary_phd and salary_non_phd
W = 2006, p-value = 8.035e-09
alternative hypothesis: true location shift is not equal to 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb192"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wilcox.test</span>(salary_phd, salary_non_phd,<span class="at">alternative =</span> <span class="st">"greater"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Wilcoxon rank sum test with continuity correction

data:  salary_phd and salary_non_phd
W = 2006, p-value = 4.018e-09
alternative hypothesis: true location shift is greater than 0</code></pre>
</div>
</div>
</section>
<section id="task-11-3-minutes" class="level2">
<h2 class="anchored" data-anchor-id="task-11-3-minutes"><strong>Task 11 (3 minutes)</strong></h2>
<p>Run two sample t test for the <strong>Salaries</strong> by <strong>Gender</strong> with a <strong>Ha of</strong> that men geting more, then <strong>check the assumptions</strong> and if needed run a <strong>Mann-Whitney U test</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb194"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset the data by Gender</span></span>
<span id="cb194-2"><a href="#cb194-2" aria-hidden="true" tabindex="-1"></a>salary_men <span class="ot">&lt;-</span> data<span class="sc">$</span>Salary[data<span class="sc">$</span>Gender <span class="sc">==</span> <span class="dv">1</span>]</span>
<span id="cb194-3"><a href="#cb194-3" aria-hidden="true" tabindex="-1"></a>salary_women <span class="ot">&lt;-</span> data<span class="sc">$</span>Salary[data<span class="sc">$</span>Gender <span class="sc">==</span> <span class="dv">0</span>]</span>
<span id="cb194-4"><a href="#cb194-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-5"><a href="#cb194-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform two-sample t-test</span></span>
<span id="cb194-6"><a href="#cb194-6" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(salary_men, salary_women,<span class="at">alternative =</span> <span class="st">"greater"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Welch Two Sample t-test

data:  salary_men and salary_women
t = 2.658, df = 77.064, p-value = 0.004777
alternative hypothesis: true difference in means is greater than 0
95 percent confidence interval:
 8.140337      Inf
sample estimates:
mean of x mean of y 
   63.418    41.631 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb196"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Shapiro-Wilk test for normality</span></span>
<span id="cb196-2"><a href="#cb196-2" aria-hidden="true" tabindex="-1"></a><span class="fu">shapiro.test</span>(salary_men)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  salary_men
W = 0.9212, p-value = 0.002606</code></pre>
</div>
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="fu">shapiro.test</span>(salary_women)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  salary_women
W = 0.92952, p-value = 0.005298</code></pre>
</div>
<div class="sourceCode cell-code" id="cb200"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Levene's test for equality of variances</span></span>
<span id="cb200-2"><a href="#cb200-2" aria-hidden="true" tabindex="-1"></a><span class="fu">leveneTest</span>(Salary<span class="sc">~</span><span class="fu">factor</span>(PhD), <span class="at">data =</span> data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Levene's Test for Homogeneity of Variance (center = median)
      Df F value  Pr(&gt;F)  
group  1  6.4075 0.01295 *
      98                  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb202"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb202-1"><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform Mann-Whitney U test</span></span>
<span id="cb202-2"><a href="#cb202-2" aria-hidden="true" tabindex="-1"></a><span class="fu">wilcox.test</span>(salary_men, salary_women,<span class="at">alternative =</span> <span class="st">"greater"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Wilcoxon rank sum test with continuity correction

data:  salary_men and salary_women
W = 1504.5, p-value = 0.03994
alternative hypothesis: true location shift is greater than 0</code></pre>
</div>
</div>
</section>
</section>
<section id="hour-4" class="level1">
<h1>Hour 4</h1>
<section id="linear-regression" class="level2">
<h2 class="anchored" data-anchor-id="linear-regression">Linear regression</h2>
<ul>
<li><p>Linear regression <strong>establishes a relationship</strong> between a <strong>continuous</strong> dependent variable (<strong>response</strong>) and independent variables (<strong>covariates</strong>).</p></li>
<li><p>We shall model response variable: <strong>Salary</strong> (represents individuals’ salaries).</p></li>
<li><p>Covariates:</p>
<ul>
<li><p><strong>Age</strong>: Age of the individuals.</p></li>
<li><p><strong>Gender</strong>: Gender of the individuals (0 = Female, 1 = Male).</p></li>
<li><p><strong>PhD</strong>: PhD status (0 = No, 1 = Yes).</p></li>
<li></li>
</ul></li>
<li><p>The linear regression model can be represented as: Salary = β₀ + β₁ * Age + β₂ * Gender + β₃ * PhD + ε, ε~N(<strong>0</strong>,<strong>Var</strong>)<br>
</p></li>
<li><p><strong>Assumptions</strong> of Linear Regression:</p>
<ol type="1">
<li><p>Linearity: The relationship between the response and covariates is linear.</p></li>
<li><p>Independence: Observations are independent of each other.</p></li>
<li><p>Homoscedasticity: The variance of the errors is constant across all levels of the covariates.</p></li>
<li><p>Normality: The errors (residuals) are normally distributed.</p></li>
<li><p>No multicollinearity: The covariates are not highly correlated with each other.</p></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb204"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb204-1"><a href="#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the linear regression model</span></span>
<span id="cb204-2"><a href="#cb204-2" aria-hidden="true" tabindex="-1"></a>lm_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">formula =</span> Salary <span class="sc">~</span> Age <span class="sc">+</span> Gender <span class="sc">+</span> PhD, <span class="at">data =</span> data)</span>
<span id="cb204-3"><a href="#cb204-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-4"><a href="#cb204-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the model summary</span></span>
<span id="cb204-5"><a href="#cb204-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lm_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Salary ~ Age + Gender + PhD, data = data)

Residuals:
    Min      1Q  Median      3Q     Max 
-81.296 -18.889  -0.802  14.716  93.504 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  -6.9549    10.8364  -0.642  0.52253    
Age           0.8474     0.2318   3.655  0.00042 ***
Gender       11.0944     6.7070   1.654  0.10136    
PhD          36.4305     7.2534   5.023 2.35e-06 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 32.78 on 96 degrees of freedom
Multiple R-squared:  0.4154,    Adjusted R-squared:  0.3972 
F-statistic: 22.74 on 3 and 96 DF,  p-value: 3.308e-11</code></pre>
</div>
</div></li>
<li><p>The <strong><code>lm()</code></strong> function is used to fit the linear regression model.</p></li>
<li><p>In the formula <strong><code>Salary ~ Age + Gender + PhD</code></strong>, we specify the response variable (<strong><code>Salary</code></strong>) and the covariates (<strong><code>Age</code></strong>, <strong><code>Gender</code></strong>, and <strong><code>PhD</code></strong>).</p></li>
<li><p>The <strong><code>data</code></strong> argument specifies the data frame containing the variables.</p></li>
<li><p>The <strong><code>summary()</code></strong> function is used to print the model summary, which provides information about the estimated coefficients, their standard errors, t-values, and p-values.</p></li>
</ul>
<p><strong>Now check the assumptions</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb206"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a>utils<span class="sc">::</span><span class="fu">install.packages</span>(<span class="st">"lmtest"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Installing package into '/Users/aliaksandrhome/R Intro Course/renv/library/R-4.2/aarch64-apple-darwin20'
(as 'lib' is unspecified)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
The downloaded binary packages are in
    /var/folders/h5/z18hplzn08n7t9s8424rhx600000gp/T//RtmpdzrEkF/downloaded_packages</code></pre>
</div>
<div class="sourceCode cell-code" id="cb209"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lmtest)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: zoo</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'zoo'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    as.Date, as.Date.numeric</code></pre>
</div>
<div class="sourceCode cell-code" id="cb213"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Normality of residuals (H0)</span></span>
<span id="cb213-2"><a href="#cb213-2" aria-hidden="true" tabindex="-1"></a><span class="fu">shapiro.test</span>(lm_model<span class="sc">$</span>residuals)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  lm_model$residuals
W = 0.97274, p-value = 0.03594</code></pre>
</div>
<div class="sourceCode cell-code" id="cb215"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Independence of residuals (H0)</span></span>
<span id="cb215-2"><a href="#cb215-2" aria-hidden="true" tabindex="-1"></a><span class="fu">durbinWatsonTest</span>(lm_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> lag Autocorrelation D-W Statistic p-value
   1      -0.1786485      2.322006    0.11
 Alternative hypothesis: rho != 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb217"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb217-1"><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Homoscedasticity of the residuals (H0)</span></span>
<span id="cb217-2"><a href="#cb217-2" aria-hidden="true" tabindex="-1"></a><span class="fu">bptest</span>(lm_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    studentized Breusch-Pagan test

data:  lm_model
BP = 26.692, df = 3, p-value = 6.831e-06</code></pre>
</div>
<div class="sourceCode cell-code" id="cb219"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb219-1"><a href="#cb219-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate correlations</span></span>
<span id="cb219-2"><a href="#cb219-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(data[,<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          Salary    Gender       Age       PhD
Salary 1.0000000 0.2593116 0.4770431 0.5555601
Gender 0.2593116 1.0000000 0.1605800 0.1845208
Age    0.4770431 0.1605800 1.0000000 0.3530814
PhD    0.5555601 0.1845208 0.3530814 1.0000000</code></pre>
</div>
</div>
<ol type="1">
<li><p>Residuals vs Fitted Values plot (which = 1): This plot helps assess the linearity assumption. Ideally, the residuals should be randomly scattered around the horizontal line at zero, indicating no clear pattern or systematic deviation from linearity.</p></li>
<li><p>Normal Q-Q plot of residuals (which = 2): This plot checks the normality assumption of the residuals. The points on the plot should approximately follow a straight line, suggesting that the residuals are normally distributed.</p></li>
<li><p>Scale-Location plot (which = 3): This plot examines the assumption of constant variance (homoscedasticity). The points should be randomly scattered around a horizontal line, indicating that the variability of residuals is consistent across different levels of the fitted values.</p></li>
<li><p>Residuals vs Leverage plot (which = 5): This plot helps identify influential observations and outliers based on their leverage and standardized residuals. Points that are distant from the main cluster might have a strong influence on the regression model.</p></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb221"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb221-1"><a href="#cb221-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Residuals vs Fitted Values plot</span></span>
<span id="cb221-2"><a href="#cb221-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lm_model, <span class="at">which =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb222"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb222-1"><a href="#cb222-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Normal Q-Q plot of residuals</span></span>
<span id="cb222-2"><a href="#cb222-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lm_model, <span class="at">which =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-44-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb223"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb223-1"><a href="#cb223-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Scale-Location plot (Square root of standardized residuals vs Fitted Values)</span></span>
<span id="cb223-2"><a href="#cb223-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lm_model, <span class="at">which =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-44-3.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="task-12-5-minutes" class="level2">
<h2 class="anchored" data-anchor-id="task-12-5-minutes"><strong>Task 12 (5 minutes)</strong></h2>
<p>Remove the Gender from the model and use <strong>sqrt(Salary)</strong> as the response in our linear regression and use more complicated effects, i.e.&nbsp;use <strong>formula = sqrt(Salary) ~ Age + Gender + PhD + I(Age^2) + I(Age^3) + I(Age^4) + I(Age^5) + I(Age*PhD) + I(Age*Gender) + I(PhD*Gender)</strong>. Then check the assumptions of the model.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb224"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb224-1"><a href="#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the linear regression model</span></span>
<span id="cb224-2"><a href="#cb224-2" aria-hidden="true" tabindex="-1"></a>lm_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">formula =</span> <span class="fu">sqrt</span>(Salary) <span class="sc">~</span> Age <span class="sc">+</span> Gender  <span class="sc">+</span> PhD <span class="sc">+</span> <span class="fu">I</span>(Age<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> <span class="fu">I</span>(Age<span class="sc">^</span><span class="dv">3</span>) <span class="sc">+</span> <span class="fu">I</span>(Age<span class="sc">^</span><span class="dv">4</span>) <span class="sc">+</span> <span class="fu">I</span>(Age<span class="sc">^</span><span class="dv">5</span>) <span class="sc">+</span> <span class="fu">I</span>(Age<span class="sc">*</span>PhD) <span class="sc">+</span> <span class="fu">I</span>(Age<span class="sc">*</span>Gender) <span class="sc">+</span> <span class="fu">I</span>(PhD<span class="sc">*</span>Gender), <span class="at">data =</span> data)</span>
<span id="cb224-3"><a href="#cb224-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-4"><a href="#cb224-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the model summary</span></span>
<span id="cb224-5"><a href="#cb224-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lm_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = sqrt(Salary) ~ Age + Gender + PhD + I(Age^2) + I(Age^3) + 
    I(Age^4) + I(Age^5) + I(Age * PhD) + I(Age * Gender) + I(PhD * 
    Gender), data = data)

Residuals:
    Min      1Q  Median      3Q     Max 
-5.8437 -1.3299  0.2714  1.1874  4.6748 

Coefficients:
                  Estimate Std. Error t value Pr(&gt;|t|)  
(Intercept)     -3.270e+01  6.048e+01  -0.541   0.5901  
Age              5.451e+00  7.417e+00   0.735   0.4644  
Gender          -2.180e+00  1.600e+00  -1.363   0.1764  
PhD              3.322e+00  2.487e+00   1.336   0.1850  
I(Age^2)        -2.990e-01  3.476e-01  -0.860   0.3920  
I(Age^3)         7.625e-03  7.792e-03   0.979   0.3304  
I(Age^4)        -9.030e-05  8.384e-05  -1.077   0.2843  
I(Age^5)         4.004e-07  3.479e-07   1.151   0.2528  
I(Age * PhD)    -2.165e-02  4.618e-02  -0.469   0.6403  
I(Age * Gender)  6.123e-02  3.588e-02   1.707   0.0913 .
I(PhD * Gender)  8.028e-01  1.003e+00   0.800   0.4258  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 2.244 on 89 degrees of freedom
Multiple R-squared:  0.4805,    Adjusted R-squared:  0.4222 
F-statistic: 8.233 on 10 and 89 DF,  p-value: 2.627e-09</code></pre>
</div>
<div class="sourceCode cell-code" id="cb226"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb226-1"><a href="#cb226-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Normality of residuals (H0)</span></span>
<span id="cb226-2"><a href="#cb226-2" aria-hidden="true" tabindex="-1"></a><span class="fu">shapiro.test</span>(lm_model<span class="sc">$</span>residuals)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  lm_model$residuals
W = 0.98231, p-value = 0.2003</code></pre>
</div>
<div class="sourceCode cell-code" id="cb228"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb228-1"><a href="#cb228-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Independence of residuals (H0)</span></span>
<span id="cb228-2"><a href="#cb228-2" aria-hidden="true" tabindex="-1"></a><span class="fu">durbinWatsonTest</span>(lm_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> lag Autocorrelation D-W Statistic p-value
   1      -0.1693611      2.313341   0.128
 Alternative hypothesis: rho != 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb230"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb230-1"><a href="#cb230-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Homoscedasticity of the residuals (H0)</span></span>
<span id="cb230-2"><a href="#cb230-2" aria-hidden="true" tabindex="-1"></a><span class="fu">bptest</span>(lm_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    studentized Breusch-Pagan test

data:  lm_model
BP = 20.09, df = 10, p-value = 0.02842</code></pre>
</div>
<div class="sourceCode cell-code" id="cb232"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb232-1"><a href="#cb232-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate correlations</span></span>
<span id="cb232-2"><a href="#cb232-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(data[,<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          Salary    Gender       Age       PhD
Salary 1.0000000 0.2593116 0.4770431 0.5555601
Gender 0.2593116 1.0000000 0.1605800 0.1845208
Age    0.4770431 0.1605800 1.0000000 0.3530814
PhD    0.5555601 0.1845208 0.3530814 1.0000000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb234"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb234-1"><a href="#cb234-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Residuals vs Fitted Values plot</span></span>
<span id="cb234-2"><a href="#cb234-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lm_model, <span class="at">which =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb235"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb235-1"><a href="#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Normal Q-Q plot of residuals</span></span>
<span id="cb235-2"><a href="#cb235-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lm_model, <span class="at">which =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-45-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb236"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb236-1"><a href="#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Scale-Location plot (Square root of standardized residuals vs Fitted Values)</span></span>
<span id="cb236-2"><a href="#cb236-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lm_model, <span class="at">which =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R-Intro-Course-with-bullet-points_files/figure-html/unnamed-chunk-45-3.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="logistic-regression" class="level2">
<h2 class="anchored" data-anchor-id="logistic-regression">Logistic regression</h2>
<p><strong>Introduction:</strong></p>
<ul>
<li><p>Logistic regression is a statistical modeling technique used to predict binary outcomes, such as whether an event will occur or not.</p></li>
<li><p>In our context, we will use logistic regression to model the probability of a person having a high income based on their gender, age, and PhD status.</p></li>
</ul>
<p>Assumptions:</p>
<ol type="1">
<li><p>Binary outcome: The dependent variable should be binary, indicating two possible outcomes (e.g., higher than median income or not).</p></li>
<li><p>Independence of observations: Each observation should be independent of others.</p></li>
<li><p>Linearity in the log-odds: The relationship between predictors and log-odds should be linear. We assume a linear relationship between the predictors and the log-odds by using a linear combination in the formula.</p></li>
<li><p>No multicollinearity: The predictors should not be highly correlated with each other to avoid problems with interpretability.</p></li>
</ol>
<p>Fitting the Logistic Regression Model in R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb237"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb237-1"><a href="#cb237-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit logistic regression model</span></span>
<span id="cb237-2"><a href="#cb237-2" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>high_income <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(data<span class="sc">$</span>above_median_salary <span class="sc">==</span> <span class="st">"Yes"</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb237-3"><a href="#cb237-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb237-4"><a href="#cb237-4" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">glm</span>(high_income <span class="sc">~</span> Gender <span class="sc">+</span> Age <span class="sc">+</span> PhD, <span class="at">data =</span> data, <span class="at">family =</span> binomial)</span>
<span id="cb237-5"><a href="#cb237-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb237-6"><a href="#cb237-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the model summary</span></span>
<span id="cb237-7"><a href="#cb237-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = high_income ~ Gender + Age + PhD, family = binomial, 
    data = data)

Deviance Residuals: 
     Min        1Q    Median        3Q       Max  
-2.33051  -0.62028  -0.05961   0.79861   2.30787  

Coefficients:
            Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept) -3.91370    0.97226  -4.025 5.69e-05 ***
Gender       0.25560    0.49864   0.513 0.608229    
Age          0.06614    0.01878   3.522 0.000428 ***
PhD          1.74144    0.52037   3.347 0.000818 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 138.629  on 99  degrees of freedom
Residual deviance:  99.696  on 96  degrees of freedom
AIC: 107.7

Number of Fisher Scoring iterations: 4</code></pre>
</div>
</div>
</section>
<section id="task-13-4-minutes" class="level2">
<h2 class="anchored" data-anchor-id="task-13-4-minutes"><strong>Task 13 (4 minutes)</strong></h2>
<p>Now run the logistic regression with above mean salary used as an indicator of high income.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb239"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb239-1"><a href="#cb239-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit logistic regression model</span></span>
<span id="cb239-2"><a href="#cb239-2" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>high_income <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(data<span class="sc">$</span>above_mean_salary <span class="sc">==</span> <span class="st">"Yes"</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb239-3"><a href="#cb239-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb239-4"><a href="#cb239-4" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">glm</span>(high_income <span class="sc">~</span> Gender <span class="sc">+</span> Age <span class="sc">+</span> PhD, <span class="at">data =</span> data, <span class="at">family =</span> binomial)</span>
<span id="cb239-5"><a href="#cb239-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb239-6"><a href="#cb239-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the model summary</span></span>
<span id="cb239-7"><a href="#cb239-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = high_income ~ Gender + Age + PhD, family = binomial, 
    data = data)

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-2.0888  -0.6275  -0.3467   0.8091   2.0269  

Coefficients:
            Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept) -4.40247    1.12644  -3.908 9.29e-05 ***
Gender       0.49338    0.52404   0.941  0.34646    
Age          0.05403    0.02063   2.619  0.00882 ** 
PhD          2.24270    0.52169   4.299 1.72e-05 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 132.813  on 99  degrees of freedom
Residual deviance:  91.353  on 96  degrees of freedom
AIC: 99.353

Number of Fisher Scoring iterations: 5</code></pre>
</div>
</div>
</section>
</section>
<section id="thanks-for-participation-time-for-qa" class="level1">
<h1>Thanks for participation! Time for QA!</h1>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>